services:
  agent:
    image: "ghcr.io/yusing/godoxy-agent:latest"
    container_name: godoxy-agent
    restart: always
    network_mode: host # do not change this
    environment:
      DOCKER_SOCKET: "/var/run/docker.sock"
      RUNTIME: "docker"
      AGENT_NAME: "VPS!"
      AGENT_PORT: "8890"
      AGENT_CA_CERT: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJsakNDQVR5Z0F3SUJBZ0lSQVBoaDB5cXF2ZjByYkt1KzdQNFp5VkF3Q2dZSUtvWkl6ajBFQXdJd0tERVAKTUEwR0ExVUVDaE1HUjI5RWIzaDVNUlV3RXdZRFZRUURFd3huYjJSdmVIa3VZV2RsYm5Rd0lCY05NalV4TVRJMApNVFEwTVRFeFdoZ1BNekF5TlRFeE1qUXhORFF4TVRGYU1DZ3hEekFOQmdOVkJBb1RCa2R2Ukc5NGVURVZNQk1HCkExVUVBeE1NWjI5a2IzaDVMbUZuWlc1ME1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRTh0QTEKZTVNbWtBaFJzc3RqWlNwd3R0MGcrZE9JSXY1UkIvUndUZWpDNjgyc0x3eEhOYUwybEtuSGVWb1lBZSs4WUdxVwpMdTFtQVBFdEEyNjZ5UnI2NzZORk1FTXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CSUdBMVVkRXdFQi93UUlNQVlCCkFmOENBUUF3SFFZRFZSME9CQllFRkhiSXZuRlNhcFkxTGlzNkFaT0lZbCtVOFU2OE1Bb0dDQ3FHU000OUJBTUMKQTBnQU1FVUNJUUNqR09ydVl3alVNU0dUYXFpYUJjNFR5Ykd1UDVCWWVGOHpweW1aNDVKa25RSWdlcXJaejB3SApUeFhxWENGWDZsN01YMmlMTjl2NzJ4RFNPZ3JhVUhZaTVFaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=;LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU52NkdzRElJT3ZLQzlYOHg3RlJKZzg1ajB0YUxBZXY2RFQvUjVUZENDZWxvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFOHRBMWU1TW1rQWhSc3N0alpTcHd0dDBnK2RPSUl2NVJCL1J3VGVqQzY4MnNMd3hITmFMMgpsS25IZVZvWUFlKzhZR3FXTHUxbUFQRXRBMjY2eVJyNjd3PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo="
      AGENT_SSL_CERT: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJvVENDQVVlZ0F3SUJBZ0lRZDgzQUNnQm1xaGhkVkQzWkxQekluVEFLQmdncWhrak9QUVFEQWpBb01ROHcKRFFZRFZRUUtFd1pIYjBSdmVIa3hGVEFUQmdOVkJBTVRER2R2Wkc5NGVTNWhaMlZ1ZERBZ0Z3MHlOVEV4TWpReApORFF4TVRGYUdBOHpNREkxTVRFeU5ERTBOREV4TVZvd09URVBNQTBHQTFVRUNoTUdSMjlFYjNoNU1ROHdEUVlEClZRUUxFd1pUWlhKMlpYSXhGVEFUQmdOVkJBTVRER2R2Wkc5NGVTNWhaMlZ1ZERCWk1CTUdCeXFHU000OUFnRUcKQ0NxR1NNNDlBd0VIQTBJQUJCa2c4VzZOTUpFNmgvcUxBYVpjKzFrbUFYdGFIc3BPWVRndFNpcEw2WTh5aU1sZgo3Y1dVTGYxOWE2Zm9NSHlVZS9hYVpSSGQrK0FRZlFtRndDV1RxQXlqUURBK01BNEdBMVVkRHdFQi93UUVBd0lICmdEQVRCZ05WSFNVRUREQUtCZ2dyQmdFRkJRY0RBVEFYQmdOVkhSRUVFREFPZ2d4bmIyUnZlSGt1WVdkbGJuUXcKQ2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUxNUWNLREdkcFcvRk1Fem83MlVYdGllS0NaTVRUYTZQWjRQU0IxTwpjOEZmQWlBUDVQcFRSbXpidElZc256R3VvNnRNd2FlSVRRN1pLblhlVmszc2NuUGw3Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K;LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU1zN2tqK3lCWWZvSysxdFg1TXlZYklVUjB5NDJMMURWMFVPMC9jb250bCtvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFR1NEeGJvMHdrVHFIK29zQnBsejdXU1lCZTFvZXlrNWhPQzFLS2t2cGp6S0l5Vi90eFpRdAovWDFycCtnd2ZKUjc5cHBsRWQzNzRCQjlDWVhBSlpPb0RBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo="
      # use agent as a docker socket proxy: [host]:port
      # set LISTEN_ADDR to enable (e.g. 127.0.0.1:2375)
      LISTEN_ADDR: 
      POST: false
      ALLOW_RESTARTS: false
      ALLOW_START: false
      ALLOW_STOP: false
      AUTH: false
      BUILD: false
      COMMIT: false
      CONFIGS: false
      CONTAINERS: false
      DISTRIBUTION: false
      EVENTS: true
      EXEC: false
      GRPC: false
      IMAGES: false
      INFO: false
      NETWORKS: false
      NODES: false
      PING: true
      PLUGINS: false
      SECRETS: false
      SERVICES: false
      SESSION: false
      SWARM: false
      SYSTEM: false
      TASKS: false
      VERSION: true
      VOLUMES: false
    volumes:
      - type: bind
        source: /var/run/docker.sock
        target: /var/run/docker.sock
      - type: bind
        source: ${BASEPATH}/${APP_CONFIG_PATH}/agents
        target: /app/data