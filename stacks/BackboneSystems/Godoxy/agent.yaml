services:
  agent:
    image: "ghcr.io/yusing/godoxy-agent:latest"
    container_name: godoxy-agent
    restart: always
    network_mode: host # do not change this
    environment:
      DOCKER_SOCKET: "/var/run/docker.sock"
      RUNTIME: "docker"
      AGENT_NAME: "nas!"
      AGENT_PORT: 8890
      AGENT_CA_CERT: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJsVENDQVR5Z0F3SUJBZ0lSQUt4RWFOQkxibkpySWp5OFBwT1gwK3d3Q2dZSUtvWkl6ajBFQXdJd0tERVAKTUEwR0ExVUVDaE1HUjI5RWIzaDVNUlV3RXdZRFZRUURFd3huYjJSdmVIa3VZV2RsYm5Rd0lCY05NalV4TVRJegpNVE0xTURRMFdoZ1BNekF5TlRFeE1qTXhNelV3TkRSYU1DZ3hEekFOQmdOVkJBb1RCa2R2Ukc5NGVURVZNQk1HCkExVUVBeE1NWjI5a2IzaDVMbUZuWlc1ME1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRXhad3AKNW9JUFN2YU95OVl0STFVakpQNmRNc29yUHdHQTQyck5JbUVuY3lYcmFpcXVOU3k0VGlJK04xVGRyQVZpMmtuVQpFZTdiK0RpWUNObFcwR3ZZa2FORk1FTXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CSUdBMVVkRXdFQi93UUlNQVlCCkFmOENBUUF3SFFZRFZSME9CQllFRkE2ZWlwZmhrSGxYQWxEM3J4amlYRy8vYko0d01Bb0dDQ3FHU000OUJBTUMKQTBjQU1FUUNJRkdPV3Bvc3BCWE1Pdzl0TzBVZUI0UkVKcys2UkI5ZVRTbVFIWnc5U2MvbEFpQmQ3SFJ1a2d0LwpYNmZ2SnAvOG9GNUI2TzdyU1lQMGNNakREVGx5cVpnbFRnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=;LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSURpSkFMWG85dnl4cXdEcHBJQkNjYklmZ0JhTXc5VXRCbWlHd3NOTHhheStvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFeFp3cDVvSVBTdmFPeTlZdEkxVWpKUDZkTXNvclB3R0E0MnJOSW1FbmN5WHJhaXF1TlN5NApUaUkrTjFUZHJBVmkya25VRWU3YitEaVlDTmxXMEd2WWtRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo="
      AGENT_SSL_CERT: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJvakNDQVVpZ0F3SUJBZ0lSQU9xc3diT29Pd2s4ZDdReW9tdHE5aTh3Q2dZSUtvWkl6ajBFQXdJd0tERVAKTUEwR0ExVUVDaE1HUjI5RWIzaDVNUlV3RXdZRFZRUURFd3huYjJSdmVIa3VZV2RsYm5Rd0lCY05NalV4TVRJegpNVE0xTURRMFdoZ1BNekF5TlRFeE1qTXhNelV3TkRSYU1Ea3hEekFOQmdOVkJBb1RCa2R2Ukc5NGVURVBNQTBHCkExVUVDeE1HVTJWeWRtVnlNUlV3RXdZRFZRUURFd3huYjJSdmVIa3VZV2RsYm5Rd1dUQVRCZ2NxaGtqT1BRSUIKQmdncWhrak9QUU1CQndOQ0FBUmliNjhnMm5hRC9BSWo1QzJWbWpOODBtaTJzL0hpcnQ5dzI2Q1FXQTJpaGJpNApIUjFpTnRoR29kSCtCSTRNdFBCK3huTUZmUW9oZzBUM2psOHdpc0VGbzBBd1BqQU9CZ05WSFE4QkFmOEVCQU1DCkI0QXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUhBd0V3RndZRFZSMFJCQkF3RG9JTVoyOWtiM2g1TG1GblpXNTAKTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSURMZlZXc05jVStRSjlHUktjeUxCbWlaMkpwWm4wcnBXLzBkNEtWWQpXT2pEQWlFQTRITVBRNHYwZTJGRWtMTW5GUW9iQTJDM2dGZ1hIdXhtelN6dVorSzA1YXc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K;LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUtmcTkyVGZRSVVJV05NVHB3bzhVdmREME5NNis0MDRYSmJSWkYzUXcrWmtvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFWW0rdklOcDJnL3dDSStRdGxab3pmTkpvdHJQeDRxN2ZjTnVna0ZnTm9vVzR1QjBkWWpiWQpScUhSL2dTT0RMVHdmc1p6QlgwS0lZTkU5NDVmTUlyQkJRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo="
      # use agent as a docker socket proxy: [host]:port
      # set LISTEN_ADDR to enable (e.g. 127.0.0.1:2375)
      LISTEN_ADDR:
      POST: false
      ALLOW_RESTARTS: false
      ALLOW_START: false
      ALLOW_STOP: false
      AUTH: false
      BUILD: false
      COMMIT: false
      CONFIGS: false
      CONTAINERS: false
      DISTRIBUTION: false
      EVENTS: true
      EXEC: false
      GRPC: false
      IMAGES: false
      INFO: false
      NETWORKS: false
      NODES: false
      PING: true
      PLUGINS: false
      SECRETS: false
      SERVICES: false
      SESSION: false
      SWARM: false
      SYSTEM: false
      TASKS: false
      VERSION: true
      VOLUMES: false
    volumes:
       - /var/run/docker.sock:/var/run/docker.sock
       - ${BASEPATH}/${APP_CONFIG_PATH}/agents:/app/data

    
