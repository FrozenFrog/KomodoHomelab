services:
  agent:
    image: "ghcr.io/yusing/godoxy-agent:latest"
    container_name: godoxy-agent
    restart: always
    network_mode: host # do not change this
    environment:
      DOCKER_SOCKET: "/var/run/docker.sock"
      RUNTIME: "docker"
      AGENT_NAME: "HomeLab!"
      AGENT_PORT: "8890"
      AGENT_CA_CERT: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJsVENDQVR5Z0F3SUJBZ0lSQUp5VEpsc25kek9LL0xJZWRDUTJJM3N3Q2dZSUtvWkl6ajBFQXdJd0tERVAKTUEwR0ExVUVDaE1HUjI5RWIzaDVNUlV3RXdZRFZRUURFd3huYjJSdmVIa3VZV2RsYm5Rd0lCY05Nall3TVRBNApNVEl6TWpVMldoZ1BNekF5TmpBeE1EZ3hNak15TlRaYU1DZ3hEekFOQmdOVkJBb1RCa2R2Ukc5NGVURVZNQk1HCkExVUVBeE1NWjI5a2IzaDVMbUZuWlc1ME1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWtMQzAKMnBOK0toampHQW9DMWRBUXRXakZPWml0SThvSjZGcU51VlBXNGRTODdqL1BDVXQ4bHMwdzVYUzNybUh1VkszMQpLOHdOVjZtdDV5SjhYem5kMmFORk1FTXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01CSUdBMVVkRXdFQi93UUlNQVlCCkFmOENBUUF3SFFZRFZSME9CQllFRlBTYjluYjR2UWtuNzhvYlR1WHMvV05GVERrOE1Bb0dDQ3FHU000OUJBTUMKQTBjQU1FUUNJRTVKeXdkVkoyajh2bnpkemR0amQ0TDVqZldpNG5LQUtRc3RqZ1hDTERxekFpQWNyT0tJdUZvbgpvaStiSk0wbjJrR0RMM1BIWlNWNWhZWFlSQW5sVU4wZjV3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=;LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUIzU0NGLzhzaUxwakg4djlDWjVjb3NNblExaGFtcWl2R1h0TmFsS3V1MVZvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFa0xDMDJwTitLaGpqR0FvQzFkQVF0V2pGT1ppdEk4b0o2RnFOdVZQVzRkUzg3ai9QQ1V0OApsczB3NVhTM3JtSHVWSzMxSzh3TlY2bXQ1eUo4WHpuZDJRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo="
      AGENT_SSL_CERT: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJvakNDQVVpZ0F3SUJBZ0lSQUluOVFsdmZkVFZlaXlkR1FUdWRBTlV3Q2dZSUtvWkl6ajBFQXdJd0tERVAKTUEwR0ExVUVDaE1HUjI5RWIzaDVNUlV3RXdZRFZRUURFd3huYjJSdmVIa3VZV2RsYm5Rd0lCY05Nall3TVRBNApNVEl6TWpVMldoZ1BNekF5TmpBeE1EZ3hNak15TlRaYU1Ea3hEekFOQmdOVkJBb1RCa2R2Ukc5NGVURVBNQTBHCkExVUVDeE1HVTJWeWRtVnlNUlV3RXdZRFZRUURFd3huYjJSdmVIa3VZV2RsYm5Rd1dUQVRCZ2NxaGtqT1BRSUIKQmdncWhrak9QUU1CQndOQ0FBVEt1a1ltMDZHaGMwazlWdGxoT2h0NE9mUWN0Q09hZkNhVVRxRDlzQ0JkamEvTgp5dHdBS2dKT3VQOTAyY0k4SjNHeEdKY0JIZTN1WFV1TTJvNXB2Nm9nbzBBd1BqQU9CZ05WSFE4QkFmOEVCQU1DCkI0QXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUhBd0V3RndZRFZSMFJCQkF3RG9JTVoyOWtiM2g1TG1GblpXNTAKTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFDeEI3QjA1TUFwbGp3SE56MXovQkZVNXgyRVAvay82clZFaGNZRgpjVStycVFJZ1dzdHBKY3N0Y0phdEtXREllWkduem9ZY1dtYXZSZms0T05uUTgxaXFzeWM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K;LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUJ2N3JUcEgwUlM0OEY5YmtsMmxJempad1Y0ejdPQTdwN3JSZFhxTkJJV2tvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFeXJwR0p0T2hvWE5KUFZiWllUb2JlRG4wSExRam1ud21sRTZnL2JBZ1hZMnZ6Y3JjQUNvQwpUcmovZE5uQ1BDZHhzUmlYQVIzdDdsMUxqTnFPYWIrcUlBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo="
      # use agent as a docker socket proxy: [host]:port
      # set LISTEN_ADDR to enable (e.g. 127.0.0.1:2375)
      LISTEN_ADDR:
      POST: false
      ALLOW_RESTARTS: false
      ALLOW_START: false
      ALLOW_STOP: false
      AUTH: false
      BUILD: false
      COMMIT: false
      CONFIGS: false
      CONTAINERS: false
      DISTRIBUTION: false
      EVENTS: true
      EXEC: false
      GRPC: false
      IMAGES: false
      INFO: false
      NETWORKS: false
      NODES: false
      PING: true
      PLUGINS: false
      SECRETS: false
      SERVICES: false
      SESSION: false
      SWARM: false
      SYSTEM: false
      TASKS: false
      VERSION: true
      VOLUMES: false
    volumes:
      - type: bind
        source: /var/run/docker.sock
        target: /var/run/docker.sock
      - type: bind
        source: ${BASEPATH}/${APP_CONFIG_PATH}/agents
        target: /app/data
