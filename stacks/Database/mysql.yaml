services:
  mysql:
    image: mysql:8.4
    network_mode: bridge
    container_name: mysql
    hostname: mysql
    environment:
      MYSQL_DATABASE: sample
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD:-mysql}
      PGID: "13000"
      PUID: "1000"
      TZ: ${TZ}
      UMASK: "002"
    expose:
      - ${MYSQL_PORT:-3306}
    volumes:
      - type: bind
        source: "${BASEPATH}/${MYSQL_CONFIG_PATH}/data"
        target: /var/lib/mysql
    command: --mysql-native-password=ON
    restart: unless-stopped
    labels:
      proxy.aliases: mysql
      proxy.#1.scheme: http
      proxy.#1.port: ${MYSQL_PORT:-3306}